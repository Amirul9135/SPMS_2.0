<div class="side-app" onload="setup()">

    <div id="ejsData" data-curclass="<%= JSON.stringify(classData) %> "></div>

    <div class="row">
        <div class="col-md-10 col-xl-10">
            <h1 class="page-title mb-6" style="font-size: 30px;">Class Details</h1>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="card bg-white">
                <div class="table-responsive">
                    <table class="table table-bordered table-hover text-nowrap mb-0 p-0">
                        <thead class="bg-info">
                            <tr>
                                <th width="60%" class="text-white">Teacher</th>
                                <th width="15%" class="text-center text-white">CLass</th>
                                <th width="10%" class="text-center text-white">Total Students</th>
                                <th width="10%" class="text-center text-white">Year</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td width="50%">
                                    <a href=""><b>Nurin Aina Syafiqah Binti Muhamad
                                            Baharom</b></a><br>
                                    <t class="text-muted">SK Lahad Datu</t>
                                </td>
                                <td width="15%" class="text-center" style="vertical-align: middle;">5 Arif
                                </td>
                                <td width="12%" class="text-center" style="vertical-align: middle;">45</td>
                                <td width="12%" class="text-center" style="vertical-align: middle;">2022
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Student List</h3>
                    <div class="card-options">
                        <a href="#" class="btn btn-orange btn-sm ml-2"><i class="fa fa-trash"></i>
                            List</a>&nbsp;&nbsp;&nbsp;&nbsp;
                        <a href="#" class="btn btn-primary btn-sm"><i class="fa fa-plus"></i> Student</a>
                    </div>
                </div>
                <div>
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover text-nowrap mb-0">
                            <thead class="bg-primary">
                                <tr>
                                    <th width="15%" class="text-white text-center">ID</th>
                                    <th width="50%" class="text-white">Name</th>
                                    <th width="10%" class="text-white text-center">Age</th>
                                    <th width="15%" class="text-center text-white">Registered Date</th>
                                    <th width="10%"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center">160928072140</td>
                                    <td ><b>Nurin Aina Syafiqah Binti Muhamad Baharom</b></td>
                                    <td class="text-center">7</td>
                                    <td class="text-center">07/12/2022</td>
                                    <td class="text-center"><a href="" class="btn btn-danger"><b><i class="fa fa-trash" style="font-size: 17px;"></i></b></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    var classData
    function setup() {
        ejsData = JSON.parse(JSON.stringify(document.getElementById("ejsData").dataset))

        document.getElementById("ejsData").remove()
        classData = JSON.parse(ejsData.curclass)
        console.log(classData)
    }

    function loadStudentClass() {
        console.log("load")

        Server.request("POST", "/api/topic/getTopicBySubject", null, false).then(function (value) {
            var data = JSON.parse(value);
            tableTopic.clear();
            var tmpRow;

            data.forEach(qTopic => {
                tmpRow = tableTopic.row.add([
                    '<a class="text-center">' + qTopic.subjectCode + '</a>',
                    '<button style="vertical-align: middle;" onclick="getTopic(event);" id="' + qTopic.topicId + '"><b>' + qTopic.title + '</b></button>',
                    '<button class="btn btn-danger text-center" style="vertical-align: middle;" onclick="deleteTopic(event);" id="' + qTopic.topicId + '"><b><i class="fa fa-trash" style="font-size: 17px;"></i></b></button>'
                ]).node()
                tmpRow.id = qTopic.topicId; //letak id
            });
            tableTopic .draw();
            console.log(data)
        }
        ).catch(function (value) {
            console.log(value);
        });
    }

</script>